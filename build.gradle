plugins {
    id "com.moowork.node" version "1.1.0"
}
apply plugin: 'com.moowork.node'

node {
    version = '6.11.2'
    npmVersion = '3.10.10'
    download = true
    workDir = file("${project.projectDir}/tools")
    npmWorkDir = file("${project.projectDir}/tools")
}

task clean(
    type: Delete,
    group: 'Node',
    description: 'Clean the files and directories generated by npm during the build',) {
    delete "${project.projectDir}/tools"
    delete "${project.projectDir}/node_modules"
    delete "${project.projectDir}/dist"
}

task build(
    group: 'Npm',
    dependsOn: ['npmInstall'],
    description: 'Install node packages and compile TypeScript to JavaScript'
)
task npmStart(type: NpmTask) {
    args = ['run', 'start']
}
